<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Honey Adventure</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #87ceeb; /* plavo nebo */
      font-family: Arial, sans-serif;
      text-align: center;
    }
    h1 {
      color: #ff9800;
      margin: 10px;
      font-size: clamp(20px, 5vw, 32px);
    }
    #gameArea {
      width: 95vw;
      max-width: 600px;
      aspect-ratio: 3/2;
      border: 3px solid #4caf50;
      margin: 0 auto;
      position: relative;
      background: linear-gradient(to top, #4caf50 60%, #87ceeb 40%);
      overflow: hidden;
      border-radius: 10px;
      touch-action: none; /* da reaguje na dodir */
    }
    .bee {
      width: 40px;
      height: 40px;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: url('pcela.png') no-repeat center/cover;
    }
    .flower {
      width: 35px;
      height: 35px;
      position: absolute;
      cursor: pointer;
    }
    .honey {
      width: 50px;
      height: 50px;
      position: absolute;
      display: none;
      cursor: pointer;
    }
    .cloud {
      width: 80px;
      height: 50px;
      position: absolute;
      animation: float 4s infinite alternate ease-in-out;
    }
    @keyframes float {
      from { transform: translateY(0px); }
      to { transform: translateY(15px); }
    }
    #message {
      font-size: clamp(16px, 4vw, 22px);
      font-weight: bold;
      margin-top: 15px;
      color: #2e7d32;
      display: none;
      padding: 5px;
    }
  </style>
</head>
<body>

<h1>üêù Honey Adventure üçØ</h1>
<p style="font-size:clamp(14px, 3vw, 18px);">Move the bee with arrows or tap on the screen to collect flowers and honey!</p>

<div id="gameArea">
  <div class="bee" id="bee"></div>
  <img src="oblak.png" class="cloud" style="top:10px; left:10%;">
  <img src="oblak.png" class="cloud" style="top:30px; left:40%;">
  <img src="oblak.png" class="cloud" style="top:15px; left:70%;">
  <img src="med.png" id="honey" class="honey">
</div>

<div id="message"></div>

<script>
const bee = document.getElementById('bee');
const gameArea = document.getElementById('gameArea');
const honey = document.getElementById('honey');
const message = document.getElementById('message');

const flowerImages = ['crvena-ruza.png', 'cvet-rozi.png', 'ljubic-ruza.png'];
let flowers = [];
let beeX = gameArea.clientWidth / 2 - 20;
let beeY = gameArea.clientHeight / 2 - 20;

let currentLevel = parseInt(localStorage.getItem('honeyLevel') || '1');
let lastDate = localStorage.getItem('honeyDate');
let today = new Date().toDateString();

function startLevel(level) {
  if(lastDate === today){
    message.innerText = "You collected your honey today! Come back tomorrow for the next level!";
    message.style.display = "block";
    honey.style.display = "none";
    flowers.forEach(f => f.remove());
    return;
  }

  flowers.forEach(f => f.remove());
  flowers = [];
  honey.style.display = "none";

  for (let i = 0; i < Math.min(level + 2, flowerImages.length); i++) {
    let flower = document.createElement('img');
    flower.src = flowerImages[i % flowerImages.length];
    flower.className = 'flower';
    flower.style.top = Math.random() * (gameArea.clientHeight - 40) + "px";
    flower.style.left = Math.random() * (gameArea.clientWidth - 40) + "px";
    flower.addEventListener('click', () => {
      flower.remove();
      flowers = flowers.filter(f => f !== flower);
      if (flowers.length === 0) showHoney();
    });
    gameArea.appendChild(flower);
    flowers.p







