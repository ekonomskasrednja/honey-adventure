
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Honey Adventure</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #87ceeb; /* plavo nebo */
      font-family: Arial, sans-serif;
      text-align: center;
    }
    h1 {
      color: #ff9800;
      margin: 10px;
    }
    #gameArea {
      width: 600px;
      height: 400px;
      border: 3px solid #4caf50;
      margin: 0 auto;
      position: relative;
      background: linear-gradient(to top, #4caf50 60%, #87ceeb 40%);
      overflow: hidden;
      border-radius: 10px;
    }
    .bee {
      width: 40px;
      height: 40px;
      position: absolute;
      top: 180px;
      left: 280px;
      background: url('pcela.png') no-repeat center/cover;
    }
    .flower {
      width: 35px;
      height: 35px;
      position: absolute;
      cursor: pointer;
    }
    .honey {
      width: 50px;
      height: 50px;
      position: absolute;
      display: none;
      cursor: pointer;
    }
    .cloud {
      width: 100px;
      height: 60px;
      position: absolute;
      animation: float 4s infinite alternate ease-in-out;
    }
    @keyframes float {
      from { transform: translateY(0px); }
      to { transform: translateY(15px); }
    }
    #message {
      font-size: 22px;
      font-weight: bold;
      margin-top: 15px;
      color: #2e7d32;
      display: none;
    }
  </style>
</head>
<body>

<h1>üêù Honey Adventure üçØ</h1>
<p>Move the bee with arrow keys, click the flowers, and collect the honey!</p>

<div id="gameArea">
  <div class="bee" id="bee"></div>
  <img src="oblak.png" class="cloud" style="top:20px; left:50px;">
  <img src="oblak.png" class="cloud" style="top:40px; left:250px;">
  <img src="oblak.png" class="cloud" style="top:10px; left:450px;">
  <img src="med.png" id="honey" class="honey">
</div>

<div id="message"></div>

<script>
const bee = document.getElementById('bee');
const gameArea = document.getElementById('gameArea');
const honey = document.getElementById('honey');
const message = document.getElementById('message');

const flowerImages = ['crvena-ruza.png', 'cvet-rozi.png', 'ljubic-ruza.png'];
let flowers = [];
let beeX = 280, beeY = 180;

let currentLevel = parseInt(localStorage.getItem('honeyLevel') || '1');
let lastDate = localStorage.getItem('honeyDate');
let today = new Date().toDateString();

function startLevel(level) {
  // Ako je veƒá skupljeno danas
  if(lastDate === today){
    message.innerText = "üéâ You collected your honey today! Come back tomorrow for the next level!";
    message.style.display = "block";
    honey.style.display = "none";
    flowers.forEach(f => f.remove());
    return;
  }

  flowers.forEach(f => f.remove());
  flowers = [];
  honey.style.display = "none";

  // dodaj cvetove
  for (let i = 0; i < Math.min(level + 2, flowerImages.length); i++) {
    let flower = document.createElement('img');
    flower.src = flowerImages[i % flowerImages.length];
    flower.className = 'flower';
    flower.style.top = Math.random() * 320 + "px";
    flower.style.left = Math.random() * 560 + "px";
    flower.addEventListener('click', () => {
      flower.remove();
      flowers = flowers.filter(f => f !== flower);
      if (flowers.length === 0) showHoney();
    });
    gameArea.appendChild(flower);
    flowers.push(flower);
  }

  message.style.display = "none";
}

function showHoney() {
  honey.style.top = "170px";
  honey.style.left = "275px";
  honey.style.display = "block";
}

honey.addEventListener('click', () => {
  if(currentLevel < 7){
    message.innerText = "üéâ Congratulations! You collected the honey. Take your spoon of honey and come back tomorrow for the next level!";
    speak(message.innerText);
    message.style.display = "block";
    localStorage.setItem('honeyLevel', currentLevel+1);
  } else {
    message.innerText = "üèÜ Congratulations, you are a Master Honey Collector! Take your spoon of honey and come back next week!";
    speak(message.innerText);
    message.style.display = "block";
    localStorage.setItem('honeyLevel', 1);
  }
  localStorage.setItem('honeyDate', today);
  honey.style.display = "none";
});

function speak(text){
  let msg = new SpeechSynthesisUtterance(text);
  msg.lang = 'en-US';
  window.speechSynthesis.speak(msg);
}

document.addEventListener('keydown', e => {
  if(e.key === "ArrowUp" && beeY > 0) beeY -= 10;
  if(e.key === "ArrowDown" && beeY < 360) beeY += 10;
  if(e.key === "ArrowLeft" && beeX > 0) beeX -= 10;
  if(e.key === "ArrowRight" && beeX < 560) beeX += 10;
  bee.style.top = beeY + "px";
  bee.style.left = beeX + "px";
});

startLevel(currentLevel);
</script>

</body>
</html>


